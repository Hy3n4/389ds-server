---
# Configuration type
# if it is set - preparation and 389-ds configuration activities will be skipped (usually to add a new replication agreement)
# TODO: remove this, make a separate role for replication agreements
skip_config: false

# Replication master settings

rwmaster: false
replication_nsds5replicaid: 7
agreement_name: ExampleAgreement
replica_host: replica.example.com
init_replica: false

# Replication replica settings

roreplica: false
# this will create LDAP user cn=replmanager,cn=config
replication_user: replmanager
replication_user_password: Admin123

# --- TODO: Remove part above this line -------------------------------

# Instance settings

suffix: dc=example,dc=com
rootdn: cn=Directory Manager
#rootdn_password: secret
ldap_fqdn: "{{ ansible_nodename }}"
serverid: ldap

# Admin Server

# admin_password: "{{ password }}"
# admin_domain: "{{ '.'.join(ldap_fqdn.split('.')[1:]) }}"

# Logging

logging:
  audit:
    enabled: true
    logrotationtimeunit: day
    logmaxdiskspace: 400
    maxlogsize: 200
    maxlogsperdir: 7
    mode: 600
  access:
    enabled: true
    logrotationtimeunit: day
    logmaxdiskspace: 400
    maxlogsize: 200
    maxlogsperdir: 7
    mode: 600
  error:
    enabled: true
    logrotationtimeunit: day
    logmaxdiskspace: 400
    maxlogsize: 200
    maxlogsperdir: 7
    mode: 600

# Plugins

plugins:
  # If you want to enable or disable
  # cn=MemberOf Plugin,cn=plugins,cn=config
  # take the cn part, like so:
  MemberOf Plugin:
    # and use enabled: true (or false). This will set
    # nsslapd-pluginEnabled to the correct value.
    enabled: true
  # DNA plugin has additional options
  Distributed Numeric Assignment Plugin:
    enabled: false
    gid_min: 2000
    gid_max: 2999
    uid_min: 2000
    uid_max: 2999

# TLS

tls_key: |
  -----BEGIN RSA PRIVATE KEY-----
  -----END RSA PRIVATE KEY-----

# full cert chain
tls_cert: |
  -----BEGIN CERTIFICATE-----
  -----END CERTIFICATE-----
  -----BEGIN CERTIFICATE-----
  -----END CERTIFICATE-----
  -----BEGIN CERTIFICATE-----
  -----END CERTIFICATE-----
